# 太鼓达人在线练习

这是一个基于网页的音乐节奏游戏项目，灵感来源于《太鼓の達人》。其核心目标是实现从任意歌曲自动生成游戏谱面（beatmap），从而创造出独特的游戏体验。

## 项目目标

我们的核心理念是开发一套全自动化的处理流程：
1.  **输入**: 一个标准的音频文件（如 MP3）。
2.  **处理**: 系统会自动从歌曲中分离出鼓点音轨，分析每一个鼓点的发生时间并对其进行分类。
3.  **输出**: 一个基于 JSON 格式的谱面文件以及多种用于游戏的伴奏音轨。
4.  **游戏**: 一个前端应用程序，负责加载谱面和音频，并向用户呈现一个可交互的节奏游戏。

## 当前进度

我们目前处于 **第一阶段：音频处理与素材生成**。

- **[✓] 谱面格式定义**: 我们已经设计并文档化了一套清晰且可扩展的 JSON 谱面格式。 (详情请见 `data/beatmap_format_guide.md`)
- **[✓] 音频分离流程**: 我们采用了相关工具将歌曲分离成其核心音轨（鼓、贝斯、人声等）。
- **[✓] 自动化伴奏生成**: 我们编写了一个自动化脚本 (`scripts/create_backing_tracks.sh`)，它可以：
    - 生成多个版本的伴奏音轨（如无鼓声版、低音量鼓声版）。
    - 自动分离并转换鼓点音轨，生成一个干净的 `drums.mp3` 文件以供后续分析。

## 下一步计划

下一个主要阶段是 **第二阶段：谱面生成与游戏开发**。

1.  **鼓点分析**:
    - 实现一个算法来分析 `drums.mp3` 文件。
    - 检测每个鼓点发生的精确时间（Onset Detection）。
    - 将每个鼓点分类为“咚”（don，鼓面）或“咔”（ka，鼓边）。
2.  **自动创建谱面**:
    - 创建一个脚本，接收鼓点分析的结果，并自动生成一个有效的 `.json` 谱面文件。
3.  **前端开发**:
    - 使用 HTML, CSS, 和 JavaScript 构建游戏界面。
    - 实现滚动的音符与背景音乐的精确同步。
    - 实现玩家的输入响应以及“良/可/不可”的判定系统，用于评估玩家表现。
