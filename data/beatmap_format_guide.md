# 曲谱 JSON 格式指南

本文档详细说明了用于定义游戏内曲谱的 JSON 文件结构。每个 JSON 文件都对应一首歌曲。

## 文件结构

一个曲谱文件包含一个顶层 JSON 对象，该对象有两个关键字段：`metadata` 和 `notes`。

### `metadata` (元数据)

一个包含歌曲基本信息的对象。

- `title` (字符串): 歌曲的名称。
- `artist` (字符串): 艺术家的名称。
- `bpm` (数字): 歌曲的BPM (Beats Per Minute)，即每分钟节拍数。
- `offset` (数字): 从音频文件开始到第一个节拍出现的延迟时间（单位：毫秒）。用于校准音乐和谱面。
- `audioUrl` (字符串): 指向对应 MP3 音频文件的相对路径。

### `notes` (音符)

一个数组，其中每个元素都是一个代表单独音符的对象。

每个音符对象都包含以下字段：

- `time` (数字): 该音符应当被敲击的精确时间点（单位：毫秒），从音频开始播放时计算。
- `type` (字符串): 音符的类型。有效值包括：
  - `"don"`: 鼓面敲击（咚）。
  - `"ka"`: 鼓边敲击（咔）。

---

## 范例文件

以下是一个名为 `象王行.json` 的曲谱范例：

```json
{
  "metadata": {
    "title": "象王行",
    "artist": "Unknown",
    "bpm": 120,
    "offset": 0,
    "audioUrl": "mp3s/象王行.mp3"
  },
  "notes": [
    {
      "time": 1500,
      "type": "don"
    },
    {
      "time": 2000,
      "type": "ka"
    },
    {
      "time": 2250,
      "type": "ka"
    },
    {
      "time": 2500,
      "type": "don"
    },
    {
      "time": 2750,
      "type": "don"
    },
    {
      "time": 3000,
      "type": "ka"
    }
  ]
}
```
